{% extends "base_home.html" %} {% load static %} {% block content %}

<body class="bg-gray-100">
  <!-- BRAND SHOWCASE -->
  <section class="py-6 bg-white border-b">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <!-- Section Header -->
      <div class="text-center mb-6">
        <h2 class="text-2xl font-bold text-gray-900 mb-2">Shop by Brand</h2>
        <p class="text-gray-600 text-sm">
          Discover premium TV brands trusted worldwide
        </p>
      </div>

      <!-- Brand Row -->
      <div
        class="flex justify-center items-center space-x-8 overflow-x-auto pb-4"
      >
        {% for brand in brands %}
        <div class="flex flex-col items-center group cursor-pointer min-w-max">
          <div
            class="w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center group-hover:bg-indigo-50 transition-colors duration-300 border-2 border-gray-200 group-hover:border-indigo-300"
          >
            <img
              src="{{ brand.bimage.url }}"
              class="w-12 h-12 object-contain filter group-hover:brightness-110 transition-all duration-300"
              alt="{{ brand.bname }}"
            />
          </div>
          <span
            class="text-xs font-medium text-gray-700 group-hover:text-indigo-600 transition-colors duration-300 mt-2 text-center"
          >
            {{ brand.bname }}
          </span>
        </div>
        {% endfor %}
      </div>
    </div>
  </section>

  <div class="mx-10">
    <div class="py-4">
      <p>
        <span
          class="font-bold text-xs text-[#000093] hover:text-indigo-600 cursor-pointer"
          >Home Page</span
        >
        <span class="text-sm text-gray-400">></span
        ><span class="ml-1 font-bold text-xs text-gray-600">Samsung TV</span>
      </p>
    </div>

    <div class="flex pb-4">
      <!-- filter section -->
      <div class="flex p-1 w-[20rem] flex-col bg-white">
        <div class="flex py-3 px-2 font-bold bg-[#e7ebf8] justify-between">
          <h2 class="text-[1.1rem]">Filters</h2>
          <p class="text-xs text-indigo-600 pr-2 cursor-pointer">Clear All</p>
        </div>
        <!-- price -->

        <div class="mb-6 px-4">
          <h3 class="text-lg font-semibold mb-2">Price Range</h3>
          <div class="space-y-2">
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>Below ₹25000</span>
            </label>
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>₹25,000 - ₹50000</span>
            </label>
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>Above ₹50000</span>
            </label>
          </div>
        </div>

        <!-- screen size -->
        <div class="mb-6 px-4">
          <h3 class="text-lg font-semibold mb-2">Screen size</h3>
          <div class="space-y-2">
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>32 inch</span>
            </label>
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>43 inch</span>
            </label>
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>55 inch</span>
            </label>
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>65 inch</span>
            </label>
          </div>
        </div>

        <!-- display type -->
        <div class="mb-6 px-4">
          <h3 class="text-lg font-semibold mb-2">Display Type</h3>
          <div class="space-y-2">
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>Ultra HD (4k)</span>
            </label>
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>Full HD</span>
            </label>
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>OLED</span>
            </label>
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>HD</span>
            </label>
          </div>
        </div>

        <!-- colour -->
        <div class="mb-6 px-4">
          <h3 class="text-lg font-semibold mb-2">Colour</h3>
          <div class="space-y-2">
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>Black</span>
            </label>
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>Carbon Silver</span>
            </label>
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>Titan black</span>
            </label>
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>Titan Gray</span>
            </label>
          </div>
        </div>

        <!-- Refresh Rate -->
        <div class="mb-6 px-4">
          <h3 class="text-lg font-semibold mb-2">Refresh Rate</h3>
          <div class="space-y-2">
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>50 Hz</span>
            </label>
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>100 Hz</span>
            </label>
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>60 Hz</span>
            </label>
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>120 Hz</span>
            </label>
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>144 Hz</span>
            </label>
          </div>
        </div>

        <!-- Display technology -->
        <div class="mb-6 px-4">
          <h3 class="text-lg font-semibold mb-2">Display Technology</h3>
          <div class="space-y-2">
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>QLED</span>
            </label>
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              />
              <span>OLED</span>
            </label>
          </div>
        </div>
      </div>

      <!-- product section -->
      <div class="flex-1 px-4">
        <!-- title & shorting -->
        <div class="flex justify-between">
          <div class="flex justify-center items-center">
            <h2 class="font-bold">Samsung TV</h2>
          </div>
          <div>
            <div class="flex justify-end pb-2 items-center">
              <button
                id="openSort"
                class="bg-white border-2 border-gray-300 text-gray-500 px-4 py-1 rounded-full font-semibold transition"
              >
                <i class="fa-solid fa-sort pr-2"></i>Sort
              </button>
            </div>

            <!-- Overlay (hidden by default) -->
            <div
              id="overlay"
              class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50"
            >
              <!-- Popup Box -->
              <div class="bg-white rounded-xl shadow-xl w-80 p-6">
                <h2 class="text-xl font-bold mb-4 text-center text-indigo-600">
                  Sort Products
                </h2>

                <form class="flex flex-col space-y-3">
                  <label class="flex items-center space-x-2">
                    <input
                      type="radio"
                      name="sort"
                      value="default"
                      class="text-indigo-600"
                    />
                    <span>Default</span>
                  </label>
                  <label class="flex items-center space-x-2">
                    <input
                      type="radio"
                      name="sort"
                      value="price-low-high"
                      class="text-indigo-600"
                    />
                    <span>Price: Low to High</span>
                  </label>
                  <label class="flex items-center space-x-2">
                    <input
                      type="radio"
                      name="sort"
                      value="price-high-low"
                      class="text-indigo-600"
                    />
                    <span>Price: High to Low</span>
                  </label>
                  <label class="flex items-center space-x-2">
                    <input
                      type="radio"
                      name="sort"
                      value="newest"
                      class="text-indigo-600"
                    />
                    <span>Newest Arrivals</span>
                  </label>
                  <label class="flex items-center space-x-2">
                    <input
                      type="radio"
                      name="sort"
                      value="popular"
                      class="text-indigo-600"
                    />
                    <span>Most Popular</span>
                  </label>
                </form>

                <div class="flex justify-between mt-6">
                  <button
                    id="closeSort"
                    class="bg-gray-300 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-400 transition"
                  >
                    Cancel
                  </button>
                  <button
                    class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition"
                  >
                    Apply
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- products -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
          {% for product in products %}
          <div class="bg-white p-4 rounded shadow">
            <a href="{% url 'product_details' product.id %}">
              <img
                src="{{ product.main_image.url }}"
                alt="{{ product.title }}"
                class="mb-4 rounded w-full h-48 object-cover"
              />
            </a>
            <h4 class="text-sm text-gray-800 font-semibold mb-2">
              {{ product.title }}
            </h4>
            <p class="text-lg font-bold">
              ₹{{ product.final_price }}
              <span class="text-xs text-[#00b259]"
                >({{ product.discount_percentage }}% Off)</span
              >
            </p>
            <p class="text-xs text-gray-500 line-through">
              MRP ₹{{ product.original_price }}
            </p>
          </div>
          {% empty %}
          <div class="col-span-full text-center py-8">
            <p class="text-gray-500">No products found.</p>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</body>
<script>
  const openSort = document.getElementById("openSort");
  const closeSort = document.getElementById("closeSort");
  const overlay = document.getElementById("overlay");

  openSort.addEventListener("click", () => {
    overlay.classList.remove("hidden");
    document.body.classList.add("overflow-hidden"); // disable scrolling
  });

  closeSort.addEventListener("click", () => {
    overlay.classList.add("hidden");
    document.body.classList.remove("overflow-hidden"); // enable scrolling
  });

  // Close popup when clicking outside the box
  overlay.addEventListener("click", (e) => {
    if (e.target === overlay) {
      overlay.classList.add("hidden");
      document.body.classList.remove("overflow-hidden");
    }
  });
</script>

{%endblock%}
